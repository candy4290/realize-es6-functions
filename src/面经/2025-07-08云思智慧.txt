2025-07-08 云思智慧 一面
前期准备：智慧建筑。

threejs,政府项目准备，gis地图准备。
jsap
d3.js图谱、echarts图谱；

一、地图相关
聚合效果10W+点，还会有更新。【后端提前聚合，按层级。】
pako压缩(加快网络传输速度)->传入fetures+当前resolution。

墨卡托投影。优点：等角投影,适合导航。缺点：高纬度，面积失真严重。
瓦片图：z/x/y,z-缩放层级，x-列号，y-行号。兼容性好。
矢量图：渲染成本高。但是更动态化，前端可以修改颜色等等。比如pbf格式(二进制格式)。
https://download.geofabrik.de下载全国的pbf,使用tilemaker来切片。
【
功能：
1>聚合撒点效果 
2>热力图(交通拥堵)
3>圈选，多边形选择 设立 区域位置(135快速反应圈等等)
4>绘制派出所责任区等等
5>车辆轨迹回放(之前通过插值的方式来做的，getCoordinateAt)
6>第三方视频监控播放，调整方向sdk调用；警员视讯通调用；
7>ws实时警力部署情况（可依靠力量：民警(辅警、特警、备勤、携枪)、通讯、交通、设施）
canvas动态生成各种可能图标;hls开流、关流；
8>区域绘制工具，支持动态调整，支持excel导入导出。支持设置起始点、终点。调用路径规划。然后再调整。
】

二、动画相关
gsap：时间轴timeline,devtools调试便利。scrolltrigger。
路径动画、仿照太阳穴行星运行动画、时间轴依次运动的动画、表格动态自动滚动动画。
随机粒子动画(数量、位置、速度 随机)、echarts飞线动画(数据流转)
伪3d动画(形变等手段)、

svg,getPointAtLength(),getTotalLength();

三、threejs
场景-Mesh（物体+材质）+相机+控制器+渲染器。
调研(车辆轨迹播放、暂停、sharder保护罩及电子围栏效果，射线碰撞检测。)
视角跟随(camera.position,camera.lookAt)；


threejs自己实现的3d看房效果(全景图切片组合，加快渲染速度)。

经纬度转墨卡托->设置中心点位->坐标缩放->得到threejs坐标。